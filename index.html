@SuppressWarnings("unused")
public void processLocalFiles() {
    Properties pr = new Properties();
    try {
        pr.load(new FileInputStream("properties/XmlReadPath.properties"));
        String localDir = pr.getProperty("localDir");
        logg.info("Processing files from local directory: " + localDir);

        Files.newDirectoryStream(Paths.get(localDir), "*.xml").forEach(path -> {
            try (InputStream is = Files.newInputStream(path)) {
                logg.info("Processing file: " + path);

                DocumentBuilderFactory docbuildFactory = DocumentBuilderFactory.newInstance();
                DocumentBuilder docBuilder = docbuildFactory.newDocumentBuilder();
                Document doc = docBuilder.parse(is);

                NodeList contractList = doc.getElementsByTagName("CONTRACTDTL");

                for (int i = 0; i < contractList.getLength(); i++) {
                    Element contractElement = (Element) contractList.item(i);
                    String contractId = contractElement.getElementsByTagName("CONTRACTID").item(0).getTextContent();
                    String contractValue = contractElement.getElementsByTagName("CONTRACT_VALUE").item(0).getTextContent();

                    logg.info("Generated contract ID: " + contractId);

                    // Store XML content in the database
                    StoreXML str_xml = new StoreXML(contractElement, contractId, contractValue);
                    logg.info("Record inserted in database successfully: " + contractId);
                    // Call success method after processing
                    success(contractId, path);
                }

                // Simulate file removal after processing
                Files.delete(path);

            } catch (Exception e) {
                logg.severe("Failed to process file: " + path);
                logg.severe("Error message: " + e.getMessage());
                fail(e, path);
            }
        });

    } catch (Exception e) {
        logg.info("Failed to load properties or process files.");
        fail(e, null);
        e.printStackTrace();
    }
}